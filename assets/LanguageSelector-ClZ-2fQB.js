import{j as n}from"./jsx-runtime-CKrituN3.js";import{r as y}from"./index-CBqU2yxZ.js";import{c as p}from"./index-Bl6ORisp.js";import{M as _}from"./Menu-Ca0dejC6.js";import{B as k}from"./Button-Thyd1SVx.js";const m=({label:t,labelAttr:e,isOpen:r,onToggle:s,className:i,...l})=>{const o=p("usa-button","usa-language__link",i),c=e?n.jsx("span",{lang:e,children:t}):t;return n.jsx("button",{"data-testid":"languageSelectorButton",className:o,"aria-expanded":r,"aria-controls":"language-options",onClick:()=>s(),type:"button",...l,children:c})};m.__docgenInfo={description:"",methods:[],displayName:"LanguageSelectorButton",props:{label:{required:!0,tsType:{name:"string"},description:""},labelAttr:{required:!1,tsType:{name:"string"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const q=t=>t.map((e,r)=>{const s=n.jsxs(n.Fragment,{children:[n.jsx("span",{lang:e.attr,children:n.jsx("strong",{children:e.label})}),e.label_local&&` (${e.label_local})`]});return typeof e.on_click=="string"?n.jsx("a",{href:e.on_click,"data-testid":e.attr,children:s},r):n.jsx(k,{onClick:e.on_click,"data-testid":e.attr,type:"button",unstyled:!0,children:s},r)}),f=({label:t,langs:e,small:r,className:s,displayLang:i,...l})=>{const[o,c]=y.useState(!1),d=p("usa-language-container",{"usa-language--small":r!==void 0},s),a=e.find(u=>u.attr===i);return n.jsx("div",{className:d,"data-testid":"languageSelector",...l,children:n.jsx("ul",{className:"usa-language__primary usa-accordion",children:n.jsxs("li",{className:"usa-language__primary-item",children:[n.jsx(m,{className:d,label:(a==null?void 0:a.label)||t||e[0].label,isOpen:o,onToggle:()=>c(u=>!u)}),n.jsx(_,{items:q(e),isOpen:o,id:"language-options",type:"language"})]})})})};f.__docgenInfo={description:"",methods:[],displayName:"LanguageSelectorDropdown",props:{label:{required:!1,tsType:{name:"string"},description:""},langs:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string
  label_local?: string
  attr: string
  on_click: string | (() => void)
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"label_local",value:{name:"string",required:!1}},{key:"attr",value:{name:"string",required:!0}},{key:"on_click",value:{name:"union",raw:"string | (() => void)",elements:[{name:"string"},{name:"unknown"}],required:!0}}]}}],raw:"LanguageDefinition[]"},description:""},small:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},displayLang:{required:!1,tsType:{name:"string"},description:""}}};const x=({label:t,langs:e,small:r,className:s,displayLang:i,...l})=>{const o=p("usa-language-container",{"usa-language--small":r!==void 0},s),[c,d]=y.useState(!1);if(e.length>2){const a={label:t,langs:e,small:r,displayLang:i};return n.jsx(f,{...a,className:s})}else{t&&console.warn("LanguageSelector's label is not used when only two languages are available.");const a=e.find(g=>g.attr===i)||e[Number(c)],u=typeof a.on_click=="string"?a.on_click:"",b=typeof a.on_click=="string"?()=>{window.location.assign(u)}:a.on_click;return n.jsx("div",{className:o,"data-testid":"languageSelector",...l,children:n.jsx(m,{className:o,label:a.label,labelAttr:a.attr,onToggle:()=>{b(),i||d(g=>!g)}})})}};x.__docgenInfo={description:"",methods:[],displayName:"LanguageSelector",props:{label:{required:!1,tsType:{name:"string"},description:""},langs:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string
  label_local?: string
  attr: string
  on_click: string | (() => void)
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"label_local",value:{name:"string",required:!1}},{key:"attr",value:{name:"string",required:!0}},{key:"on_click",value:{name:"union",raw:"string | (() => void)",elements:[{name:"string"},{name:"unknown"}],required:!0}}]}}],raw:"LanguageDefinition[]"},description:""},small:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},displayLang:{required:!1,tsType:{name:"string"},description:""}}};export{x as L};

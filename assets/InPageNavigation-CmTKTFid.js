import{j as a}from"./jsx-runtime-CKrituN3.js";import{r as o}from"./index-CBqU2yxZ.js";import{c as n}from"./index-Bl6ORisp.js";import{L as w}from"./Link-CkSfpXjB.js";const O={},V=({className:c,content:t,headingLevel:m="h4",mainProps:p,navProps:d,rootMargin:u="0px 0px 0px 0px",scrollOffset:i,threshold:h=1,title:r="On this page",...v})=>{const g=n("usa-in-page-nav",O.target,c),{className:f,...x}=d||{},N=n("usa-in-page-nav__nav",f),{className:_,...y}=p||{},I=n("main-content",_),j=m,q={"--margin-offset":i},[E,S]=o.useState(""),T=t.props.children.filter(e=>e.type==="h2"||e.type==="h3"),b=e=>{e.forEach(s=>{s.isIntersecting&&S(s.target.id)})},C={root:null,rootMargin:u,threshold:[h]},P=new IntersectionObserver(b,C);return o.useEffect(()=>{document.querySelectorAll("h2,h3").forEach(e=>P.observe(e))}),a.jsxs("div",{className:"usa-in-page-nav-container",...v,children:[a.jsx("aside",{className:g,"aria-label":r,"data-testid":"InPageNavigation",children:a.jsxs("nav",{className:N,...x,children:[a.jsx(j,{className:"usa-in-page-nav__heading",tabIndex:0,children:r}),a.jsx("ul",{className:"usa-in-page-nav__list",children:T.map(e=>{const s=e.props.children,l=e.props.id,J=n("usa-in-page-nav__item",{"usa-in-page-nav__item--sub-item":e.type==="h3"}),X=n("usa-in-page-nav__link",{"usa-current":l===E});return a.jsx("li",{className:J,children:a.jsx(w,{href:`#${l}`,className:X,children:s})},`usa-in-page-nav__item_${s}`)})})]})}),a.jsx("main",{id:"main-content",className:I,...y,style:i?q:void 0,children:t})]})};V.__docgenInfo={description:"",methods:[],displayName:"InPageNavigation",props:{className:{required:!1,tsType:{name:"string"},description:""},content:{required:!0,tsType:{name:"JSX.Element"},description:""},headingLevel:{required:!1,tsType:{name:"union",raw:"'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6'",elements:[{name:"literal",value:"'h1'"},{name:"literal",value:"'h2'"},{name:"literal",value:"'h3'"},{name:"literal",value:"'h4'"},{name:"literal",value:"'h5'"},{name:"literal",value:"'h6'"}]},description:"",defaultValue:{value:"'h4'",computed:!1}},mainProps:{required:!1,tsType:{name:"JSX.IntrinsicElements['main']",raw:"JSX.IntrinsicElements['main']"},description:""},navProps:{required:!1,tsType:{name:"JSX.IntrinsicElements['nav']",raw:"JSX.IntrinsicElements['nav']"},description:""},rootMargin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'0px 0px 0px 0px'",computed:!1}},scrollOffset:{required:!1,tsType:{name:"string"},description:""},threshold:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'On this page'",computed:!1}}}};export{V as I};

import{a as I,j as f}from"./jsx-runtime-2xDJh5tt.js";import{r as g}from"./index-CBqU2yxZ.js";import{c as M}from"./index-Bl6ORisp.js";import{T as N}from"./TextInput-gKiZgmFb.js";import{i as q,L as V}from"./Link-D3tnaV38.js";function k(a,d,e){const n=e||d,l=e?a.replace(/\W/g,""):a.replace(/\D/g,""),s=t=>!Number.isNaN(parseInt(t,10)),r=t=>t?t.match(/[A-Z]/i):!1,v="_#dDmMyY9",y="A";let u="";for(let t=0,o=0;t<n.length;t++){const m=s(l[o]),c=r(l[o]),i=v.indexOf(n[t])>=0,p=y.indexOf(n[t])>=0;if(i&&m||e&&p&&c)u+=l[o++];else{if(l[o]===void 0||!e&&!m&&i||e&&(p&&!c||i&&!c))break;u+=n[t]}}return u}const _=({id:a,className:d,mask:e,value:n,defaultValue:l,charset:s,onChange:r,...v})=>{const y=M({"usa-masked":e},d),[u,t]=g.useState(k(n??l??"",e,s));g.useEffect(()=>{t(k(n??l??"",e,s))},[n]);const[o,m]=g.useState(e.substring(u.length)),c=i=>{const p=k(i.target.value,e,s);m(e.substring(p.length)),t(p),i.target.value=p,r==null||r(i)};return I("span",{className:"usa-input-mask",children:[I("span",{className:"usa-input-mask--content","aria-hidden":!0,"data-testid":`${a}Mask`,children:[f("i",{children:u}),o]}),f(N,{"data-testid":"textInput",className:y,id:a,maxLength:e.length,onChange:c,value:u,...v})]})};try{_.displayName="TextInputMask",_.__docgenInfo={description:"",displayName:"TextInputMask",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"search"'},{value:'"text"'},{value:'"tel"'},{value:'"url"'},{value:'"email"'},{value:'"password"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},validationStatus:{defaultValue:null,description:"",name:"validationStatus",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}},inputSize:{defaultValue:null,description:"",name:"inputSize",required:!1,type:{name:"enum",value:[{value:'"medium"'},{value:'"small"'}]}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"TextInputRef"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>"}},mask:{defaultValue:null,description:"",name:"mask",required:!0,type:{name:"string"}},charset:{defaultValue:null,description:"",name:"charset",required:!1,type:{name:"string"}}}}}catch{}function L({modalRef:a,...d}){var s;const e=r=>{if(!a||!a.current)return console.error("ModalRef is required"),!1;r.preventDefault(),a.current.toggleModal(r,!0)},n={...d,role:"button","aria-controls":(s=a==null?void 0:a.current)==null?void 0:s.modalId,"data-open-modal":!0,onClick:e};return q(n)?f(V,{...n}):f(V,{...n})}try{L.displayName="ModalOpenLink",L.__docgenInfo={description:"",displayName:"ModalOpenLink",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"unstyled"'},{value:'"nav"'},{value:'"external"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},allowSpacebarActivation:{defaultValue:null,description:"",name:"allowSpacebarActivation",required:!1,type:{name:"boolean"}},modalRef:{defaultValue:null,description:"",name:"modalRef",required:!0,type:{name:"RefObject<ModalRef>"}}}}}catch{}export{_ as T};

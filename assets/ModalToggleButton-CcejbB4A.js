import{j as X}from"./jsx-runtime-CKrituN3.js";import{r as R}from"./index-CBqU2yxZ.js";import{a as ge,g as Pe}from"./_commonjsHelpers-BosuxZz1.js";import{p as Ce}from"./index-Dk74W0Oi.js";import{b as Ie,c as Ae}from"./ModalFooter-edgjOP8W.js";import{R as xe}from"./index-BtM5VmRH.js";import{B as je}from"./Button-Thyd1SVx.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Te=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Q=Te.join(","),we=typeof Element>"u",I=we?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ee=!we&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},te=function r(e,t){var a;t===void 0&&(t=!0);var n=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),s=n===""||n==="true",i=s||t&&e&&r(e.parentNode);return i},Me=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Oe=function(e,t,a){if(te(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(Q));return t&&I.call(e,Q)&&n.unshift(e),n=n.filter(a),n},Ee=function r(e,t,a){for(var n=[],s=Array.from(e);s.length;){var i=s.shift();if(!te(i,!1))if(i.tagName==="SLOT"){var f=i.assignedElements(),v=f.length?f:i.children,d=r(v,!0,a);a.flatten?n.push.apply(n,d):n.push({scopeParent:i,candidates:d})}else{var m=I.call(i,Q);m&&a.filter(i)&&(t||!e.includes(i))&&n.push(i);var g=i.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(i),E=!te(g,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(i));if(g&&E){var D=r(g===!0?i.children:g.children,!0,a);a.flatten?n.push.apply(n,D):n.push({scopeParent:i,candidates:D})}else s.unshift.apply(s,i.children)}}return n},Fe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},S=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Me(e))&&!Fe(e)?0:e.tabIndex},Le=function(e,t){var a=S(e);return a<0&&t&&!Fe(e)?0:a},Be=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},De=function(e){return e.tagName==="INPUT"},_e=function(e){return De(e)&&e.type==="hidden"},qe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},Ke=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},Ve=function(e){if(!e.name)return!0;var t=e.form||ee(e),a=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=a(window.CSS.escape(e.name));else try{n=a(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=Ke(n,e.form);return!s||s===e},$e=function(e){return De(e)&&e.type==="radio"},Ue=function(e){return $e(e)&&!Ve(e)},We=function(e){var t,a=e&&ee(e),n=(t=a)===null||t===void 0?void 0:t.host,s=!1;if(a&&a!==e){var i,f,v;for(s=!!((i=n)!==null&&i!==void 0&&(f=i.ownerDocument)!==null&&f!==void 0&&f.contains(n)||e!=null&&(v=e.ownerDocument)!==null&&v!==void 0&&v.contains(e));!s&&n;){var d,m,g;a=ee(n),n=(d=a)===null||d===void 0?void 0:d.host,s=!!((m=n)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(n))}}return s},de=function(e){var t=e.getBoundingClientRect(),a=t.width,n=t.height;return a===0&&n===0},Ge=function(e,t){var a=t.displayCheck,n=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=I.call(e,"details>summary:first-of-type"),i=s?e.parentElement:e;if(I.call(i,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof n=="function"){for(var f=e;e;){var v=e.parentElement,d=ee(e);if(v&&!v.shadowRoot&&n(v)===!0)return de(e);e.assignedSlot?e=e.assignedSlot:!v&&d!==e.ownerDocument?e=d.host:e=v}e=f}if(We(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return de(e);return!1},ze=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var n=t.children.item(a);if(n.tagName==="LEGEND")return I.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},ae=function(e,t){return!(t.disabled||te(t)||_e(t)||Ge(t,e)||qe(t)||ze(t))},ue=function(e,t){return!(Ue(t)||S(t)<0||!ae(e,t))},Ye=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},He=function r(e){var t=[],a=[];return e.forEach(function(n,s){var i=!!n.scopeParent,f=i?n.scopeParent:n,v=Le(f,i),d=i?r(n.candidates):f;v===0?i?t.push.apply(t,d):t.push(f):a.push({documentOrder:s,tabIndex:v,item:n,isScope:i,content:d})}),a.sort(Be).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(t)},Re=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Ee([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ye}):a=Oe(e,t.includeContainer,ue.bind(null,t)),He(a)},Ne=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Ee([e],t.includeContainer,{filter:ae.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Oe(e,t.includeContainer,ae.bind(null,t)),a},C=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return I.call(e,Q)===!1?!1:ue(t,e)},Ze=Te.concat("iframe").join(","),J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return I.call(e,Ze)===!1?!1:ae(t,e)};const Xe=Object.freeze(Object.defineProperty({__proto__:null,focusable:Ne,getTabIndex:S,isFocusable:J,isTabbable:C,tabbable:Re},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ve(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function pe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(t),!0).forEach(function(a){Je(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function Je(r,e,t){return e=et(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qe(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function et(r){var e=Qe(r,"string");return typeof e=="symbol"?e:String(e)}var be={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},tt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},at=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},G=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},rt=function(e){return G(e)&&!e.shiftKey},nt=function(e){return G(e)&&e.shiftKey},he=function(e){return setTimeout(e,0)},me=function(e,t){var a=-1;return e.every(function(n,s){return t(n)?(a=s,!1):!0}),a},$=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,a):e},H=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},it=[],ot=function(e,t){var a=(t==null?void 0:t.document)||document,n=(t==null?void 0:t.trapStack)||it,s=pe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:rt,isKeyBackward:nt},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,v=function(o,u,c){return o&&o[u]!==void 0?o[u]:s[c||u]},d=function(o,u){var c=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return i.containerGroups.findIndex(function(b){var h=b.container,y=b.tabbableNodes;return h.contains(o)||(c==null?void 0:c.includes(h))||y.find(function(T){return T===o})})},m=function(o){var u=s[o];if(typeof u=="function"){for(var c=arguments.length,b=new Array(c>1?c-1:0),h=1;h<c;h++)b[h-1]=arguments[h];u=u.apply(void 0,b)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var y=u;if(typeof u=="string"&&(y=a.querySelector(u),!y))throw new Error("`".concat(o,"` as selector refers to no known node"));return y},g=function(){var o=m("initialFocus");if(o===!1)return!1;if(o===void 0||!J(o,s.tabbableOptions))if(d(a.activeElement)>=0)o=a.activeElement;else{var u=i.tabbableGroups[0],c=u&&u.firstTabbableNode;o=c||m("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},E=function(){if(i.containerGroups=i.containers.map(function(o){var u=Re(o,s.tabbableOptions),c=Ne(o,s.tabbableOptions),b=u.length>0?u[0]:void 0,h=u.length>0?u[u.length-1]:void 0,y=c.find(function(w){return C(w)}),T=c.slice().reverse().find(function(w){return C(w)}),O=!!u.find(function(w){return S(w)>0});return{container:o,tabbableNodes:u,focusableNodes:c,posTabIndexesFound:O,firstTabbableNode:b,lastTabbableNode:h,firstDomTabbableNode:y,lastDomTabbableNode:T,nextTabbableNode:function(P){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=u.indexOf(P);return k<0?K?c.slice(c.indexOf(P)+1).find(function(V){return C(V)}):c.slice(0,c.indexOf(P)).reverse().find(function(V){return C(V)}):u[k+(K?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(o){return o.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},D=function p(o){var u=o.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?p(u.shadowRoot):u},F=function p(o){if(o!==!1&&o!==D(document)){if(!o||!o.focus){p(g());return}o.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=o,tt(o)&&o.select()}},A=function(o){var u=m("setReturnFocus",o);return u||(u===!1?!1:o)},ne=function(o){var u=o.target,c=o.event,b=o.isBackward,h=b===void 0?!1:b;u=u||H(c),E();var y=null;if(i.tabbableGroups.length>0){var T=d(u,c),O=T>=0?i.containerGroups[T]:void 0;if(T<0)h?y=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:y=i.tabbableGroups[0].firstTabbableNode;else if(h){var w=me(i.tabbableGroups,function(ie){var oe=ie.firstTabbableNode;return u===oe});if(w<0&&(O.container===u||J(u,s.tabbableOptions)&&!C(u,s.tabbableOptions)&&!O.nextTabbableNode(u,!1))&&(w=T),w>=0){var P=w===0?i.tabbableGroups.length-1:w-1,K=i.tabbableGroups[P];y=S(u)>=0?K.lastTabbableNode:K.lastDomTabbableNode}else G(c)||(y=O.nextTabbableNode(u,!1))}else{var k=me(i.tabbableGroups,function(ie){var oe=ie.lastTabbableNode;return u===oe});if(k<0&&(O.container===u||J(u,s.tabbableOptions)&&!C(u,s.tabbableOptions)&&!O.nextTabbableNode(u))&&(k=T),k>=0){var V=k===i.tabbableGroups.length-1?0:k+1,fe=i.tabbableGroups[V];y=S(u)>=0?fe.firstTabbableNode:fe.firstDomTabbableNode}else G(c)||(y=O.nextTabbableNode(u))}}else y=m("fallbackFocus");return y},x=function(o){var u=H(o);if(!(d(u,o)>=0)){if($(s.clickOutsideDeactivates,o)){f.deactivate({returnFocus:s.returnFocusOnDeactivate});return}$(s.allowOutsideClick,o)||o.preventDefault()}},z=function(o){var u=H(o),c=d(u,o)>=0;if(c||u instanceof Document)c&&(i.mostRecentlyFocusedNode=u);else{o.stopImmediatePropagation();var b,h=!0;if(i.mostRecentlyFocusedNode)if(S(i.mostRecentlyFocusedNode)>0){var y=d(i.mostRecentlyFocusedNode),T=i.containerGroups[y].tabbableNodes;if(T.length>0){var O=T.findIndex(function(w){return w===i.mostRecentlyFocusedNode});O>=0&&(s.isKeyForward(i.recentNavEvent)?O+1<T.length&&(b=T[O+1],h=!1):O-1>=0&&(b=T[O-1],h=!1))}}else i.containerGroups.some(function(w){return w.tabbableNodes.some(function(P){return S(P)>0})})||(h=!1);else h=!1;h&&(b=ne({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),F(b||i.mostRecentlyFocusedNode||g())}i.recentNavEvent=void 0},M=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=o;var c=ne({event:o,isBackward:u});c&&(G(o)&&o.preventDefault(),F(c))},Y=function(o){if(at(o)&&$(s.escapeDeactivates,o)!==!1){o.preventDefault(),f.deactivate();return}(s.isKeyForward(o)||s.isKeyBackward(o))&&M(o,s.isKeyBackward(o))},L=function(o){var u=H(o);d(u,o)>=0||$(s.clickOutsideDeactivates,o)||$(s.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},B=function(){if(i.active)return be.activateTrap(n,f),i.delayInitialFocusTimer=s.delayInitialFocus?he(function(){F(g())}):F(g()),a.addEventListener("focusin",z,!0),a.addEventListener("mousedown",x,{capture:!0,passive:!1}),a.addEventListener("touchstart",x,{capture:!0,passive:!1}),a.addEventListener("click",L,{capture:!0,passive:!1}),a.addEventListener("keydown",Y,{capture:!0,passive:!1}),f},_=function(){if(i.active)return a.removeEventListener("focusin",z,!0),a.removeEventListener("mousedown",x,!0),a.removeEventListener("touchstart",x,!0),a.removeEventListener("click",L,!0),a.removeEventListener("keydown",Y,!0),f},le=function(o){var u=o.some(function(c){var b=Array.from(c.removedNodes);return b.some(function(h){return h===i.mostRecentlyFocusedNode})});u&&F(g())},q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(le):void 0,N=function(){q&&(q.disconnect(),i.active&&!i.paused&&i.containers.map(function(o){q.observe(o,{subtree:!0,childList:!0})}))};return f={get active(){return i.active},get paused(){return i.paused},activate:function(o){if(i.active)return this;var u=v(o,"onActivate"),c=v(o,"onPostActivate"),b=v(o,"checkCanFocusTrap");b||E(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,u==null||u();var h=function(){b&&E(),B(),N(),c==null||c()};return b?(b(i.containers.concat()).then(h,h),this):(h(),this)},deactivate:function(o){if(!i.active)return this;var u=pe({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},o);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,_(),i.active=!1,i.paused=!1,N(),be.deactivateTrap(n,f);var c=v(u,"onDeactivate"),b=v(u,"onPostDeactivate"),h=v(u,"checkCanReturnFocus"),y=v(u,"returnFocus","returnFocusOnDeactivate");c==null||c();var T=function(){he(function(){y&&F(A(i.nodeFocusedBeforeActivation)),b==null||b()})};return y&&h?(h(A(i.nodeFocusedBeforeActivation)).then(T,T),this):(T(),this)},pause:function(o){if(i.paused||!i.active)return this;var u=v(o,"onPause"),c=v(o,"onPostPause");return i.paused=!0,u==null||u(),_(),N(),c==null||c(),this},unpause:function(o){if(!i.paused||!i.active)return this;var u=v(o,"onUnpause"),c=v(o,"onPostUnpause");return i.paused=!1,u==null||u(),E(),B(),N(),c==null||c(),this},updateContainerElements:function(o){var u=[].concat(o).filter(Boolean);return i.containers=u.map(function(c){return typeof c=="string"?a.querySelector(c):c}),i.active&&E(),N(),this}},f.updateContainerElements(e),f};const ut=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:ot},Symbol.toStringTag,{value:"Module"})),st=ge(ut),ct=ge(Xe);function j(r){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(r)}function lt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ye(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ke(a.key),a)}}function ft(r,e,t){return e&&ye(r.prototype,e),t&&ye(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function dt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&se(r,e)}function se(r,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},se(r,e)}function vt(r){var e=bt();return function(){var a=re(r),n;if(e){var s=re(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return pt(this,n)}}function pt(r,e){if(e&&(j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(r)}function W(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(r){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},re(r)}function ht(r,e,t){return e=ke(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ke(r){var e=mt(r,"string");return j(e)==="symbol"?e:String(e)}function mt(r,e){if(j(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(j(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Z=R,l=Ce,yt=st,gt=yt.createFocusTrap,Tt=ct,wt=Tt.isFocusable,ce=function(r){dt(t,r);var e=vt(t);function t(a){var n;lt(this,t),n=e.call(this,a),ht(W(n),"getNodeForOption",function(f){var v,d=(v=this.internalOptions[f])!==null&&v!==void 0?v:this.originalOptions[f];if(typeof d=="function"){for(var m=arguments.length,g=new Array(m>1?m-1:0),E=1;E<m;E++)g[E-1]=arguments[E];d=d.apply(void 0,g)}if(d===!0&&(d=void 0),!d){if(d===void 0||d===!1)return d;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var D=d;if(typeof d=="string"){var F;if(D=(F=this.getDocument())===null||F===void 0?void 0:F.querySelector(d),!D)throw new Error("`".concat(f,"` as selector refers to no known node"))}return D}),n.handleDeactivate=n.handleDeactivate.bind(W(n)),n.handlePostDeactivate=n.handlePostDeactivate.bind(W(n)),n.handleClickOutsideDeactivates=n.handleClickOutsideDeactivates.bind(W(n)),n.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:n.handleDeactivate,onPostDeactivate:n.handlePostDeactivate,clickOutsideDeactivates:n.handleClickOutsideDeactivates},n.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s=a.focusTrapOptions;for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(i==="returnFocusOnDeactivate"||i==="onDeactivate"||i==="onPostDeactivate"||i==="checkCanReturnFocus"||i==="clickOutsideDeactivates"){n.originalOptions[i]=s[i];continue}n.internalOptions[i]=s[i]}return n.outsideClick=null,n.focusTrapElements=a.containerElements||[],n.updatePreviousElement(),n}return ft(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var n=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return n||(n===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var n=this.getDocument();n&&(this.previouslyFocusedElement=n.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(n){var s=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,n):this.originalOptions.clickOutsideDeactivates;return s&&(this.outsideClick={target:n.target,allowDeactivation:s}),s}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var n=this,s=function(){var f=n.getReturnFocusNode(),v=!!(n.originalOptions.returnFocusOnDeactivate&&f!==null&&f!==void 0&&f.focus&&(!n.outsideClick||n.outsideClick.allowDeactivation&&!wt(n.outsideClick.target,n.internalOptions.tabbableOptions))),d=n.internalOptions.preventScroll,m=d===void 0?!1:d;v&&f.focus({preventScroll:m}),n.originalOptions.onPostDeactivate&&n.originalOptions.onPostDeactivate.call(null),n.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(s,s):s()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var n=this.focusTrapElements.some(Boolean);n&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(n){if(this.focusTrap){n.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var s=!n.active&&this.props.active,i=n.active&&!this.props.active,f=!n.paused&&this.props.paused,v=n.paused&&!this.props.paused;if(s&&(this.updatePreviousElement(),this.focusTrap.activate()),i){this.deactivateTrap();return}f&&this.focusTrap.pause(),v&&this.focusTrap.unpause()}else n.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var n=this,s=this.props.children?Z.Children.only(this.props.children):void 0;if(s){if(s.type&&s.type===Z.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var i=function(d){var m=n.props.containerElements;s&&(typeof s.ref=="function"?s.ref(d):s.ref&&(s.ref.current=d)),n.focusTrapElements=m||[d]},f=Z.cloneElement(s,{ref:i});return f}return null}}]),t}(Z.Component),U=typeof Element>"u"?Function:Element;ce.propTypes={active:l.bool,paused:l.bool,focusTrapOptions:l.shape({document:l.object,onActivate:l.func,onPostActivate:l.func,checkCanFocusTrap:l.func,onPause:l.func,onPostPause:l.func,onUnpause:l.func,onPostUnpause:l.func,onDeactivate:l.func,onPostDeactivate:l.func,checkCanReturnFocus:l.func,initialFocus:l.oneOfType([l.instanceOf(U),l.string,l.bool,l.func]),fallbackFocus:l.oneOfType([l.instanceOf(U),l.string,l.func]),escapeDeactivates:l.oneOfType([l.bool,l.func]),clickOutsideDeactivates:l.oneOfType([l.bool,l.func]),returnFocusOnDeactivate:l.bool,setReturnFocus:l.oneOfType([l.instanceOf(U),l.string,l.bool,l.func]),allowOutsideClick:l.oneOfType([l.bool,l.func]),preventScroll:l.bool,tabbableOptions:l.shape({displayCheck:l.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:l.oneOfType([l.bool,l.func])}),trapStack:l.array,isKeyForward:l.func,isKeyBackward:l.func}),containerElements:l.arrayOf(l.instanceOf(U)),children:l.oneOfType([l.element,l.instanceOf(U)])};ce.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:gt};var Ot=ce;const Et=Pe(Ot),Ft=r=>{const[e,t]=R.useState(r||!1),a=s=>{const i=s.target;return s&&i&&i.closest(".usa-modal")?i.hasAttribute("[data-close-modal]")||!!i.closest("[data-close-modal]"):!0};return{isOpen:e,toggleModal:(s,i)=>s&&!a(s)?(s.stopPropagation(),!1):(t(i===!0?!0:i===!1?!1:f=>!f),!0)}},Dt=()=>{var r;if(typeof document<"u"){const e=document.createElement("div");e.setAttribute("style","visibility: hidden; overflow: scroll; ms-overflow-style: scrollbar"),document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const a=`${e.offsetWidth-t.offsetWidth}px`;return(r=e.parentNode)==null||r.removeChild(e),a}return""},Se=({id:r,children:e,isLarge:t=!1,forceAction:a=!1,modalRoot:n=".usa-modal-wrapper",renderToPortal:s=!0,isInitiallyOpen:i,...f},v)=>{const{isOpen:d,toggleModal:m}=Ft(i),[g,E]=R.useState(!1),D=R.useRef(),F=R.useRef(),A=R.useRef(null),x=`body > *:not(${n||".usa-modal-wrapper"}):not([aria-hidden])`,z="[data-modal-hidden]",M=p=>{m(p,!1)};R.useImperativeHandle(v,()=>({modalId:r,modalIsOpen:d,toggleModal:m}),[r,d]);const Y=()=>{const{body:p}=document;p.style.paddingRight=F.current||"",p.classList.add("usa-js-modal--active"),document.querySelectorAll(x).forEach(o=>{o.setAttribute("aria-hidden","true"),o.setAttribute("data-modal-hidden","")}),a&&p.classList.add("usa-js-no-click")},L=()=>{const{body:p}=document;p.style.paddingRight=D.current||"",p.classList.remove("usa-js-modal--active"),p.classList.remove("usa-js-no-click"),document.querySelectorAll(z).forEach(o=>{o.removeAttribute("aria-hidden"),o.removeAttribute("data-modal-hidden")})};R.useEffect(()=>{const p=Dt(),o=window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0px",u=`${parseInt(o.replace(/px/,""),10)+parseInt(p.replace(/px/,""),10)}px`;return D.current=o,F.current=u,E(!0),()=>{L()}},[]),R.useEffect(()=>{g&&(d===!0?Y():d===!1&&L())},[d]);const B=f["aria-labelledby"],_=f["aria-describedby"];B||console.error(`${r} is missing aria-labelledby attribute`),_||console.error(`${r} is missing aria-describedby attribute`),delete f["aria-labelledby"],delete f["aria-describedby"];const q={initialFocus:()=>{var o;const p=(o=A.current)==null?void 0:o.querySelector("[data-focus]");return p||A.current||!1},escapeDeactivates:()=>a?!1:(M(),!0)},N=X.jsx(Et,{active:d,focusTrapOptions:q,children:X.jsx(Ie,{role:"dialog",id:r,"aria-labelledby":B,"aria-describedby":_,"data-force-action":a,isVisible:d,handleClose:M,forceAction:a,children:X.jsx(Ae,{modalId:r,...f,ref:A,isLarge:t,forceAction:a,tabIndex:-1,handleClose:M,children:e})})});if(s){const o=document.getElementById("modal-root")||document.body;return xe.createPortal(N,o)}else return N},Rt=R.forwardRef(Se);Se.__docgenInfo={description:"",methods:[],displayName:"ModalForwardRef",props:{isLarge:{defaultValue:{value:"false",computed:!1},required:!1},forceAction:{defaultValue:{value:"false",computed:!1},required:!1},modalRoot:{defaultValue:{value:"'.usa-modal-wrapper'",computed:!1},required:!1},renderToPortal:{defaultValue:{value:"true",computed:!1},required:!1}}};Rt.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{isLarge:{defaultValue:{value:"false",computed:!1},required:!1},forceAction:{defaultValue:{value:"false",computed:!1},required:!1},modalRoot:{defaultValue:{value:"'.usa-modal-wrapper'",computed:!1},required:!1},renderToPortal:{defaultValue:{value:"true",computed:!1},required:!1}}};const Nt=({modalRef:r,children:e,opener:t,closer:a,...n})=>{var f;const s=v=>{if(!r||!r.current)return console.error("ModalRef is required"),!1;n.onClick&&n.onClick(v),t&&!a?r.current.toggleModal(v,!0):a&&!t?r.current.toggleModal(v,!1):r.current.toggleModal(v)},i={"data-close-modal":!0,"data-open-modal":!0};return t&&!a&&delete i["data-close-modal"],a&&!t&&delete i["data-open-modal"],X.jsx(je,{...n,...i,type:"button","aria-controls":(f=r==null?void 0:r.current)==null?void 0:f.modalId,onClick:s,children:e})};Nt.__docgenInfo={description:"",methods:[],displayName:"ModalToggleButton",props:{modalRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<ModalRef>",elements:[{name:"signature",type:"object",raw:`{
  modalId: string
  modalIsOpen: boolean
  toggleModal: (event?: React.MouseEvent, open?: boolean) => boolean
}`,signature:{properties:[{key:"modalId",value:{name:"string",required:!0}},{key:"modalIsOpen",value:{name:"boolean",required:!0}},{key:"toggleModal",value:{name:"signature",type:"function",raw:"(event?: React.MouseEvent, open?: boolean) => boolean",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"event"},{type:{name:"boolean"},name:"open"}],return:{name:"boolean"}},required:!0}}]}}]},description:""},opener:{required:!1,tsType:{name:"boolean"},description:""},closer:{required:!1,tsType:{name:"boolean"},description:""}}};export{Rt as M,Nt as a};

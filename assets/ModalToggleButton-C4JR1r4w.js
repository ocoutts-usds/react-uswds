import{j as X}from"./jsx-runtime-2xDJh5tt.js";import{r as N}from"./index-CBqU2yxZ.js";import{a as Oe,g as Ie}from"./_commonjsHelpers-BosuxZz1.js";import{p as Ae}from"./index-Dk74W0Oi.js";import{b as _e,c as xe}from"./ModalFooter-CS-7NBLs.js";import{R as Me}from"./index-BtM5VmRH.js";import{B as je}from"./Button-Dw-sXN3h.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Q=Fe.join(","),Ee=typeof Element>"u",I=Ee?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ee=!Ee&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},te=function r(e,t){var a;t===void 0&&(t=!0);var n=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),s=n===""||n==="true",i=s||t&&e&&r(e.parentNode);return i},qe=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},De=function(e,t,a){if(te(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(Q));return t&&I.call(e,Q)&&n.unshift(e),n=n.filter(a),n},Ne=function r(e,t,a){for(var n=[],s=Array.from(e);s.length;){var i=s.shift();if(!te(i,!1))if(i.tagName==="SLOT"){var d=i.assignedElements(),v=d.length?d:i.children,f=r(v,!0,a);a.flatten?n.push.apply(n,f):n.push({scopeParent:i,candidates:f})}else{var m=I.call(i,Q);m&&a.filter(i)&&(t||!e.includes(i))&&n.push(i);var g=i.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(i),F=!te(g,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(i));if(g&&F){var D=r(g===!0?i.children:g.children,!0,a);a.flatten?n.push.apply(n,D):n.push({scopeParent:i,candidates:D})}else s.unshift.apply(s,i.children)}}return n},Re=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},P=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||qe(e))&&!Re(e)?0:e.tabIndex},Le=function(e,t){var a=P(e);return a<0&&t&&!Re(e)?0:a},Be=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Se=function(e){return e.tagName==="INPUT"},Ve=function(e){return Se(e)&&e.type==="hidden"},Ke=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},$e=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},Ue=function(e){if(!e.name)return!0;var t=e.form||ee(e),a=function(d){return t.querySelectorAll('input[type="radio"][name="'+d+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=a(window.CSS.escape(e.name));else try{n=a(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=$e(n,e.form);return!s||s===e},We=function(e){return Se(e)&&e.type==="radio"},Ge=function(e){return We(e)&&!Ue(e)},ze=function(e){var t,a=e&&ee(e),n=(t=a)===null||t===void 0?void 0:t.host,s=!1;if(a&&a!==e){var i,d,v;for(s=!!((i=n)!==null&&i!==void 0&&(d=i.ownerDocument)!==null&&d!==void 0&&d.contains(n)||e!=null&&(v=e.ownerDocument)!==null&&v!==void 0&&v.contains(e));!s&&n;){var f,m,g;a=ee(n),n=(f=a)===null||f===void 0?void 0:f.host,s=!!((m=n)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(n))}}return s},ve=function(e){var t=e.getBoundingClientRect(),a=t.width,n=t.height;return a===0&&n===0},Ye=function(e,t){var a=t.displayCheck,n=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=I.call(e,"details>summary:first-of-type"),i=s?e.parentElement:e;if(I.call(i,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof n=="function"){for(var d=e;e;){var v=e.parentElement,f=ee(e);if(v&&!v.shadowRoot&&n(v)===!0)return ve(e);e.assignedSlot?e=e.assignedSlot:!v&&f!==e.ownerDocument?e=f.host:e=v}e=d}if(ze(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return ve(e);return!1},He=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var n=t.children.item(a);if(n.tagName==="LEGEND")return I.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},ae=function(e,t){return!(t.disabled||te(t)||Ve(t)||Ye(t,e)||Ke(t)||He(t))},ue=function(e,t){return!(Ge(t)||P(t)<0||!ae(e,t))},Ze=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Xe=function r(e){var t=[],a=[];return e.forEach(function(n,s){var i=!!n.scopeParent,d=i?n.scopeParent:n,v=Le(d,i),f=i?r(n.candidates):d;v===0?i?t.push.apply(t,f):t.push(d):a.push({documentOrder:s,tabIndex:v,item:n,isScope:i,content:f})}),a.sort(Be).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(t)},Pe=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Ne([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ze}):a=De(e,t.includeContainer,ue.bind(null,t)),Xe(a)},ke=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Ne([e],t.includeContainer,{filter:ae.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=De(e,t.includeContainer,ae.bind(null,t)),a},C=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return I.call(e,Q)===!1?!1:ue(t,e)},Je=Fe.concat("iframe").join(","),J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return I.call(e,Je)===!1?!1:ae(t,e)};const Qe=Object.freeze(Object.defineProperty({__proto__:null,focusable:ke,getTabIndex:P,isFocusable:J,isTabbable:C,tabbable:Pe},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function pe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function be(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(t),!0).forEach(function(a){et(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function et(r,e,t){return e=at(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function at(r){var e=tt(r,"string");return typeof e=="symbol"?e:String(e)}var he={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},rt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},nt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},W=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},it=function(e){return W(e)&&!e.shiftKey},ot=function(e){return W(e)&&e.shiftKey},me=function(e){return setTimeout(e,0)},ye=function(e,t){var a=-1;return e.every(function(n,s){return t(n)?(a=s,!1):!0}),a},K=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,a):e},H=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ut=[],st=function(e,t){var a=(t==null?void 0:t.document)||document,n=(t==null?void 0:t.trapStack)||ut,s=be({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:it,isKeyBackward:ot},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,v=function(o,u,l){return o&&o[u]!==void 0?o[u]:s[l||u]},f=function(o,u){var l=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return i.containerGroups.findIndex(function(b){var h=b.container,y=b.tabbableNodes;return h.contains(o)||(l==null?void 0:l.includes(h))||y.find(function(T){return T===o})})},m=function(o){var u=s[o];if(typeof u=="function"){for(var l=arguments.length,b=new Array(l>1?l-1:0),h=1;h<l;h++)b[h-1]=arguments[h];u=u.apply(void 0,b)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var y=u;if(typeof u=="string"&&(y=a.querySelector(u),!y))throw new Error("`".concat(o,"` as selector refers to no known node"));return y},g=function(){var o=m("initialFocus");if(o===!1)return!1;if(o===void 0||!J(o,s.tabbableOptions))if(f(a.activeElement)>=0)o=a.activeElement;else{var u=i.tabbableGroups[0],l=u&&u.firstTabbableNode;o=l||m("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},F=function(){if(i.containerGroups=i.containers.map(function(o){var u=Pe(o,s.tabbableOptions),l=ke(o,s.tabbableOptions),b=u.length>0?u[0]:void 0,h=u.length>0?u[u.length-1]:void 0,y=l.find(function(w){return C(w)}),T=l.slice().reverse().find(function(w){return C(w)}),O=!!u.find(function(w){return P(w)>0});return{container:o,tabbableNodes:u,focusableNodes:l,posTabIndexesFound:O,firstTabbableNode:b,lastTabbableNode:h,firstDomTabbableNode:y,lastDomTabbableNode:T,nextTabbableNode:function(k){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=u.indexOf(k);return S<0?B?l.slice(l.indexOf(k)+1).find(function(V){return C(V)}):l.slice(0,l.indexOf(k)).reverse().find(function(V){return C(V)}):u[S+(B?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(o){return o.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},D=function p(o){var u=o.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?p(u.shadowRoot):u},E=function p(o){if(o!==!1&&o!==D(document)){if(!o||!o.focus){p(g());return}o.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=o,rt(o)&&o.select()}},A=function(o){var u=m("setReturnFocus",o);return u||(u===!1?!1:o)},ne=function(o){var u=o.target,l=o.event,b=o.isBackward,h=b===void 0?!1:b;u=u||H(l),F();var y=null;if(i.tabbableGroups.length>0){var T=f(u,l),O=T>=0?i.containerGroups[T]:void 0;if(T<0)h?y=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:y=i.tabbableGroups[0].firstTabbableNode;else if(h){var w=ye(i.tabbableGroups,function(ie){var oe=ie.firstTabbableNode;return u===oe});if(w<0&&(O.container===u||J(u,s.tabbableOptions)&&!C(u,s.tabbableOptions)&&!O.nextTabbableNode(u,!1))&&(w=T),w>=0){var k=w===0?i.tabbableGroups.length-1:w-1,B=i.tabbableGroups[k];y=P(u)>=0?B.lastTabbableNode:B.lastDomTabbableNode}else W(l)||(y=O.nextTabbableNode(u,!1))}else{var S=ye(i.tabbableGroups,function(ie){var oe=ie.lastTabbableNode;return u===oe});if(S<0&&(O.container===u||J(u,s.tabbableOptions)&&!C(u,s.tabbableOptions)&&!O.nextTabbableNode(u))&&(S=T),S>=0){var V=S===i.tabbableGroups.length-1?0:S+1,fe=i.tabbableGroups[V];y=P(u)>=0?fe.firstTabbableNode:fe.firstDomTabbableNode}else W(l)||(y=O.nextTabbableNode(u))}}else y=m("fallbackFocus");return y},_=function(o){var u=H(o);if(!(f(u,o)>=0)){if(K(s.clickOutsideDeactivates,o)){d.deactivate({returnFocus:s.returnFocusOnDeactivate});return}K(s.allowOutsideClick,o)||o.preventDefault()}},G=function(o){var u=H(o),l=f(u,o)>=0;if(l||u instanceof Document)l&&(i.mostRecentlyFocusedNode=u);else{o.stopImmediatePropagation();var b,h=!0;if(i.mostRecentlyFocusedNode)if(P(i.mostRecentlyFocusedNode)>0){var y=f(i.mostRecentlyFocusedNode),T=i.containerGroups[y].tabbableNodes;if(T.length>0){var O=T.findIndex(function(w){return w===i.mostRecentlyFocusedNode});O>=0&&(s.isKeyForward(i.recentNavEvent)?O+1<T.length&&(b=T[O+1],h=!1):O-1>=0&&(b=T[O-1],h=!1))}}else i.containerGroups.some(function(w){return w.tabbableNodes.some(function(k){return P(k)>0})})||(h=!1);else h=!1;h&&(b=ne({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),E(b||i.mostRecentlyFocusedNode||g())}i.recentNavEvent=void 0},M=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=o;var l=ne({event:o,isBackward:u});l&&(W(o)&&o.preventDefault(),E(l))},z=function(o){if(nt(o)&&K(s.escapeDeactivates,o)!==!1){o.preventDefault(),d.deactivate();return}(s.isKeyForward(o)||s.isKeyBackward(o))&&M(o,s.isKeyBackward(o))},j=function(o){var u=H(o);f(u,o)>=0||K(s.clickOutsideDeactivates,o)||K(s.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},q=function(){if(i.active)return he.activateTrap(n,d),i.delayInitialFocusTimer=s.delayInitialFocus?me(function(){E(g())}):E(g()),a.addEventListener("focusin",G,!0),a.addEventListener("mousedown",_,{capture:!0,passive:!1}),a.addEventListener("touchstart",_,{capture:!0,passive:!1}),a.addEventListener("click",j,{capture:!0,passive:!1}),a.addEventListener("keydown",z,{capture:!0,passive:!1}),d},L=function(){if(i.active)return a.removeEventListener("focusin",G,!0),a.removeEventListener("mousedown",_,!0),a.removeEventListener("touchstart",_,!0),a.removeEventListener("click",j,!0),a.removeEventListener("keydown",z,!0),d},de=function(o){var u=o.some(function(l){var b=Array.from(l.removedNodes);return b.some(function(h){return h===i.mostRecentlyFocusedNode})});u&&E(g())},Y=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(de):void 0,R=function(){Y&&(Y.disconnect(),i.active&&!i.paused&&i.containers.map(function(o){Y.observe(o,{subtree:!0,childList:!0})}))};return d={get active(){return i.active},get paused(){return i.paused},activate:function(o){if(i.active)return this;var u=v(o,"onActivate"),l=v(o,"onPostActivate"),b=v(o,"checkCanFocusTrap");b||F(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,u==null||u();var h=function(){b&&F(),q(),R(),l==null||l()};return b?(b(i.containers.concat()).then(h,h),this):(h(),this)},deactivate:function(o){if(!i.active)return this;var u=be({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},o);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,L(),i.active=!1,i.paused=!1,R(),he.deactivateTrap(n,d);var l=v(u,"onDeactivate"),b=v(u,"onPostDeactivate"),h=v(u,"checkCanReturnFocus"),y=v(u,"returnFocus","returnFocusOnDeactivate");l==null||l();var T=function(){me(function(){y&&E(A(i.nodeFocusedBeforeActivation)),b==null||b()})};return y&&h?(h(A(i.nodeFocusedBeforeActivation)).then(T,T),this):(T(),this)},pause:function(o){if(i.paused||!i.active)return this;var u=v(o,"onPause"),l=v(o,"onPostPause");return i.paused=!0,u==null||u(),L(),R(),l==null||l(),this},unpause:function(o){if(!i.paused||!i.active)return this;var u=v(o,"onUnpause"),l=v(o,"onPostUnpause");return i.paused=!1,u==null||u(),F(),q(),R(),l==null||l(),this},updateContainerElements:function(o){var u=[].concat(o).filter(Boolean);return i.containers=u.map(function(l){return typeof l=="string"?a.querySelector(l):l}),i.active&&F(),R(),this}},d.updateContainerElements(e),d};const lt=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:st},Symbol.toStringTag,{value:"Module"})),ct=Oe(lt),dt=Oe(Qe);function x(r){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(r)}function ft(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,Ce(a.key),a)}}function vt(r,e,t){return e&&ge(r.prototype,e),t&&ge(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function pt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&se(r,e)}function se(r,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},se(r,e)}function bt(r){var e=mt();return function(){var a=re(r),n;if(e){var s=re(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return ht(this,n)}}function ht(r,e){if(e&&(x(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(r)}function U(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(r){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},re(r)}function yt(r,e,t){return e=Ce(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ce(r){var e=gt(r,"string");return x(e)==="symbol"?e:String(e)}function gt(r,e){if(x(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(x(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Z=N,c=Ae,Tt=ct,wt=Tt.createFocusTrap,Ot=dt,Ft=Ot.isFocusable,ce=function(r){pt(t,r);var e=bt(t);function t(a){var n;ft(this,t),n=e.call(this,a),yt(U(n),"getNodeForOption",function(d){var v,f=(v=this.internalOptions[d])!==null&&v!==void 0?v:this.originalOptions[d];if(typeof f=="function"){for(var m=arguments.length,g=new Array(m>1?m-1:0),F=1;F<m;F++)g[F-1]=arguments[F];f=f.apply(void 0,g)}if(f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(d,"` was specified but was not a node, or did not return a node"))}var D=f;if(typeof f=="string"){var E;if(D=(E=this.getDocument())===null||E===void 0?void 0:E.querySelector(f),!D)throw new Error("`".concat(d,"` as selector refers to no known node"))}return D}),n.handleDeactivate=n.handleDeactivate.bind(U(n)),n.handlePostDeactivate=n.handlePostDeactivate.bind(U(n)),n.handleClickOutsideDeactivates=n.handleClickOutsideDeactivates.bind(U(n)),n.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:n.handleDeactivate,onPostDeactivate:n.handlePostDeactivate,clickOutsideDeactivates:n.handleClickOutsideDeactivates},n.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s=a.focusTrapOptions;for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(i==="returnFocusOnDeactivate"||i==="onDeactivate"||i==="onPostDeactivate"||i==="checkCanReturnFocus"||i==="clickOutsideDeactivates"){n.originalOptions[i]=s[i];continue}n.internalOptions[i]=s[i]}return n.outsideClick=null,n.focusTrapElements=a.containerElements||[],n.updatePreviousElement(),n}return vt(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var n=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return n||(n===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var n=this.getDocument();n&&(this.previouslyFocusedElement=n.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(n){var s=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,n):this.originalOptions.clickOutsideDeactivates;return s&&(this.outsideClick={target:n.target,allowDeactivation:s}),s}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var n=this,s=function(){var d=n.getReturnFocusNode(),v=!!(n.originalOptions.returnFocusOnDeactivate&&d!==null&&d!==void 0&&d.focus&&(!n.outsideClick||n.outsideClick.allowDeactivation&&!Ft(n.outsideClick.target,n.internalOptions.tabbableOptions))),f=n.internalOptions.preventScroll,m=f===void 0?!1:f;v&&d.focus({preventScroll:m}),n.originalOptions.onPostDeactivate&&n.originalOptions.onPostDeactivate.call(null),n.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(s,s):s()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var n=this.focusTrapElements.some(Boolean);n&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(n){if(this.focusTrap){n.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var s=!n.active&&this.props.active,i=n.active&&!this.props.active,d=!n.paused&&this.props.paused,v=n.paused&&!this.props.paused;if(s&&(this.updatePreviousElement(),this.focusTrap.activate()),i){this.deactivateTrap();return}d&&this.focusTrap.pause(),v&&this.focusTrap.unpause()}else n.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var n=this,s=this.props.children?Z.Children.only(this.props.children):void 0;if(s){if(s.type&&s.type===Z.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var i=function(f){var m=n.props.containerElements;s&&(typeof s.ref=="function"?s.ref(f):s.ref&&(s.ref.current=f)),n.focusTrapElements=m||[f]},d=Z.cloneElement(s,{ref:i});return d}return null}}]),t}(Z.Component),$=typeof Element>"u"?Function:Element;ce.propTypes={active:c.bool,paused:c.bool,focusTrapOptions:c.shape({document:c.object,onActivate:c.func,onPostActivate:c.func,checkCanFocusTrap:c.func,onPause:c.func,onPostPause:c.func,onUnpause:c.func,onPostUnpause:c.func,onDeactivate:c.func,onPostDeactivate:c.func,checkCanReturnFocus:c.func,initialFocus:c.oneOfType([c.instanceOf($),c.string,c.bool,c.func]),fallbackFocus:c.oneOfType([c.instanceOf($),c.string,c.func]),escapeDeactivates:c.oneOfType([c.bool,c.func]),clickOutsideDeactivates:c.oneOfType([c.bool,c.func]),returnFocusOnDeactivate:c.bool,setReturnFocus:c.oneOfType([c.instanceOf($),c.string,c.bool,c.func]),allowOutsideClick:c.oneOfType([c.bool,c.func]),preventScroll:c.bool,tabbableOptions:c.shape({displayCheck:c.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:c.oneOfType([c.bool,c.func])}),trapStack:c.array,isKeyForward:c.func,isKeyBackward:c.func}),containerElements:c.arrayOf(c.instanceOf($)),children:c.oneOfType([c.element,c.instanceOf($)])};ce.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:wt};var Et=ce;const Dt=Ie(Et),Nt=r=>{const[e,t]=N.useState(r||!1),a=s=>{const i=s.target;return s&&i&&i.closest(".usa-modal")?i.hasAttribute("[data-close-modal]")||!!i.closest("[data-close-modal]"):!0};return{isOpen:e,toggleModal:(s,i)=>s&&!a(s)?(s.stopPropagation(),!1):(t(i===!0?!0:i===!1?!1:d=>!d),!0)}},Rt=()=>{var r;if(typeof document<"u"){const e=document.createElement("div");e.setAttribute("style","visibility: hidden; overflow: scroll; ms-overflow-style: scrollbar"),document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const a=`${e.offsetWidth-t.offsetWidth}px`;return(r=e.parentNode)==null||r.removeChild(e),a}return""},le=({id:r,children:e,isLarge:t=!1,forceAction:a=!1,modalRoot:n=".usa-modal-wrapper",renderToPortal:s=!0,isInitiallyOpen:i,...d},v)=>{const{isOpen:f,toggleModal:m}=Nt(i),[g,F]=N.useState(!1),D=N.useRef(),E=N.useRef(),A=N.useRef(null),_=`body > *:not(${n||".usa-modal-wrapper"}):not([aria-hidden])`,G="[data-modal-hidden]",M=p=>{m(p,!1)};N.useImperativeHandle(v,()=>({modalId:r,modalIsOpen:f,toggleModal:m}),[r,f]);const z=()=>{const{body:p}=document;p.style.paddingRight=E.current||"",p.classList.add("usa-js-modal--active"),document.querySelectorAll(_).forEach(o=>{o.setAttribute("aria-hidden","true"),o.setAttribute("data-modal-hidden","")}),a&&p.classList.add("usa-js-no-click")},j=()=>{const{body:p}=document;p.style.paddingRight=D.current||"",p.classList.remove("usa-js-modal--active"),p.classList.remove("usa-js-no-click"),document.querySelectorAll(G).forEach(o=>{o.removeAttribute("aria-hidden"),o.removeAttribute("data-modal-hidden")})};N.useEffect(()=>{const p=Rt(),o=window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0px",u=`${parseInt(o.replace(/px/,""),10)+parseInt(p.replace(/px/,""),10)}px`;return D.current=o,E.current=u,F(!0),()=>{j()}},[]),N.useEffect(()=>{g&&(f===!0?z():f===!1&&j())},[f]);const q=d["aria-labelledby"],L=d["aria-describedby"];q||console.error(`${r} is missing aria-labelledby attribute`),L||console.error(`${r} is missing aria-describedby attribute`),delete d["aria-labelledby"],delete d["aria-describedby"];const R=X(Dt,{active:f,focusTrapOptions:{initialFocus:()=>{var o;const p=(o=A.current)==null?void 0:o.querySelector("[data-focus]");return p||A.current||!1},escapeDeactivates:()=>a?!1:(M(),!0)},children:X(_e,{role:"dialog",id:r,"aria-labelledby":q,"aria-describedby":L,"data-force-action":a,isVisible:f,handleClose:M,forceAction:a,children:X(xe,{modalId:r,...d,ref:A,isLarge:t,forceAction:a,tabIndex:-1,handleClose:M,children:e})})});if(s){const o=document.getElementById("modal-root")||document.body;return Me.createPortal(R,o)}else return R},Te=N.forwardRef(le);try{le.displayName="ModalForwardRef",le.__docgenInfo={description:"",displayName:"ModalForwardRef",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isLarge:{defaultValue:{value:"false"},description:"",name:"isLarge",required:!1,type:{name:"boolean"}},forceAction:{defaultValue:{value:"false"},description:"",name:"forceAction",required:!1,type:{name:"boolean"}},modalRoot:{defaultValue:{value:".usa-modal-wrapper"},description:"",name:"modalRoot",required:!1,type:{name:"string"}},renderToPortal:{defaultValue:{value:"true"},description:"",name:"renderToPortal",required:!1,type:{name:"boolean"}},isInitiallyOpen:{defaultValue:null,description:"",name:"isInitiallyOpen",required:!1,type:{name:"boolean"}}}}}catch{}try{Te.displayName="Modal",Te.__docgenInfo={description:"",displayName:"Modal",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},isLarge:{defaultValue:{value:"false"},description:"",name:"isLarge",required:!1,type:{name:"boolean"}},forceAction:{defaultValue:{value:"false"},description:"",name:"forceAction",required:!1,type:{name:"boolean"}},modalRoot:{defaultValue:{value:".usa-modal-wrapper"},description:"",name:"modalRoot",required:!1,type:{name:"string"}},renderToPortal:{defaultValue:{value:"true"},description:"",name:"renderToPortal",required:!1,type:{name:"boolean"}},isInitiallyOpen:{defaultValue:null,description:"",name:"isInitiallyOpen",required:!1,type:{name:"boolean"}}}}}catch{}const we=({modalRef:r,children:e,opener:t,closer:a,...n})=>{var d;const s=v=>{if(!r||!r.current)return console.error("ModalRef is required"),!1;n.onClick&&n.onClick(v),t&&!a?r.current.toggleModal(v,!0):a&&!t?r.current.toggleModal(v,!1):r.current.toggleModal(v)},i={"data-close-modal":!0,"data-open-modal":!0};return t&&!a&&delete i["data-close-modal"],a&&!t&&delete i["data-open-modal"],X(je,{...n,...i,type:"button","aria-controls":(d=r==null?void 0:r.current)==null?void 0:d.modalId,onClick:s,children:e})};try{we.displayName="ModalToggleButton",we.__docgenInfo={description:"",displayName:"ModalToggleButton",props:{modalRef:{defaultValue:null,description:"",name:"modalRef",required:!0,type:{name:"RefObject<ModalRef>"}},opener:{defaultValue:null,description:"",name:"opener",required:!1,type:{name:"boolean"}},closer:{defaultValue:null,description:"",name:"closer",required:!1,type:{name:"boolean"}},secondary:{defaultValue:null,description:"",name:"secondary",required:!1,type:{name:"boolean"}},base:{defaultValue:null,description:"",name:"base",required:!1,type:{name:"boolean"}},accentStyle:{defaultValue:null,description:"",name:"accentStyle",required:!1,type:{name:"enum",value:[{value:'"cool"'},{value:'"warm"'}]}},outline:{defaultValue:null,description:"",name:"outline",required:!1,type:{name:"boolean"}},inverse:{defaultValue:null,description:"",name:"inverse",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"big"'}]}},unstyled:{defaultValue:null,description:"",name:"unstyled",required:!1,type:{name:"boolean"}}}}}catch{}export{Te as M,we as a};

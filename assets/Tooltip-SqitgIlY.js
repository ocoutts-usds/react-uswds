import{a as L,j as N}from"./jsx-runtime-2xDJh5tt.js";import{r}from"./index-CBqU2yxZ.js";import{c as h}from"./index-Bl6ORisp.js";const G=(o,s=window,i=document.documentElement)=>{const l=o.getBoundingClientRect();return l.top>=0&&l.left>=0&&l.bottom<=(s.innerHeight||i.clientHeight)&&l.right<=(s.innerWidth||i.clientWidth)},A=(o,s)=>parseInt(window.getComputedStyle(o).getPropertyValue(s),10),d=(o,s,i)=>A(i,`margin-${o}`)>0?s-A(i,`margin-${o}`):s;function M(o){return"asCustom"in o}const b=5;function x(o){const s=r.useRef(null),i=r.useRef(null),l=r.useRef(`tooltip-${Math.floor(Math.random()*9e5)+1e5}`),[p,V]=r.useState(!1),[H,T]=r.useState(!1),[m,g]=r.useState(void 0),[k,_]=r.useState(0),[v,C]=r.useState(!1),[w,y]=r.useState({}),{position:j,wrapperclasses:D,className:$}=o,I=(t,e)=>{const n=d("top",t.offsetHeight,e),a=d("left",t.offsetWidth,e);g("top"),y({left:"50%",top:`-${b}px`,margin:`-${n}px 0 0 -${a/2}px`})},S=(t,e)=>{const n=d("left",t.offsetWidth,e);g("bottom"),y({left:"50%",margin:`${b}px 0 0 -${n/2}px`})},P=(t,e)=>{const n=d("top",t.offsetHeight,e);g("right"),y({top:"50%",left:`${e.offsetLeft+e.offsetWidth+b}px`,margin:`-${n/2}px 0 0 0`})},W=(t,e)=>{const n=d("top",t.offsetHeight,e),a=d("left",e.offsetLeft>t.offsetWidth?e.offsetLeft-t.offsetWidth:t.offsetWidth,e);g("left"),y({top:"50%",left:`-${b}px`,margin:`-${n/2}px 0 0 ${e.offsetLeft>t.offsetWidth?a:-a}px`})},q=[I,S,P,W],R=q.length;r.useEffect(()=>{if(p&&s.current&&i.current){const t=s.current,e=i.current;if(G(e))T(!0);else{const a=k;if(a<R||v===!1)if(_(c=>c+1),a<R){const c=q[parseInt(`${a}`)];c(e,t)}else C(!0),_(0);else console.warn("No visible position found - this may mean your tooltip contents is too long!")}}},[m,w,v]),r.useEffect(()=>{if(!p)T(!1),C(!1),_(0);else if(s.current&&i.current){const t=s.current,e=i.current;switch(j){case"top":I(e,t);break;case"bottom":S(e,t);break;case"right":P(e,t);break;case"left":W(e,t);break}}},[p]);const u=()=>{V(!0)},f=()=>{V(!1)},B=h("usa-tooltip",D),E=h("usa-tooltip__body",{"is-set":p,"usa-tooltip__body--top":m==="top","usa-tooltip__body--bottom":m==="bottom","usa-tooltip__body--right":m==="right","usa-tooltip__body--left":m==="left","is-visible":H,"usa-tooltip__body--wrap":p&&v});if(M(o)){const{label:t,title:e,asCustom:n,children:a,...c}=o,F=c,K=h("usa-tooltip__trigger",$),O=r.createElement(n,{...F,ref:s,"data-testid":"triggerElement","aria-describedby":l.current,tabIndex:0,title:"",onMouseEnter:u,onMouseOver:u,onFocus:u,onMouseLeave:f,onBlur:f,onKeyDown:f,className:K},a);return L("span",{"data-testid":"tooltipWrapper",className:B,children:[O,N("span",{"data-testid":"tooltipBody",title:e??(typeof t=="string"?t:void 0),id:l.current,ref:i,className:E,role:"tooltip","aria-hidden":!p,style:w,children:t})]})}else{const{label:t,title:e,children:n,...a}=o,c=h("usa-button","usa-tooltip__trigger",$);return L("span",{"data-testid":"tooltipWrapper",className:B,children:[N("button",{...a,"data-testid":"triggerElement",ref:s,"aria-describedby":l.current,tabIndex:0,type:"button",className:c,title:"",onMouseEnter:u,onMouseOver:u,onFocus:u,onMouseLeave:f,onBlur:f,onKeyDown:f,children:n}),N("span",{"data-testid":"tooltipBody",title:e??(typeof t=="string"?t:void 0),id:l.current,ref:i,className:E,role:"tooltip","aria-hidden":!p,style:w,children:t})]})}}x.defaultProps={position:"top"};try{M.displayName="isCustomProps",M.__docgenInfo={description:"",displayName:"isCustomProps",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},wrapperclasses:{defaultValue:null,description:"",name:"wrapperclasses",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},asCustom:{defaultValue:null,description:"",name:"asCustom",required:!0,type:{name:"ForwardRefExoticComponent<T>"}}}}}catch{}try{x.displayName="Tooltip",x.__docgenInfo={description:"",displayName:"Tooltip",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},position:{defaultValue:{value:"top"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},wrapperclasses:{defaultValue:null,description:"",name:"wrapperclasses",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{x as T};
